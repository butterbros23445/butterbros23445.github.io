<!DOCTYPE html>
<html><head>  <meta charset="UTF-8">
    <title>student scores</title>
</head>
<body style='margin-left: 30px;'>

    <h1>CIT7 Students v1.0.11</h1>
    <p>CIT7 students: Exam Scores</p>
        
    <input type="button" id='btn' value="Get Student Scores">
	<input type="button" id='btn2' value="Get Student Scores 2">
	
    <div id="result"></div>
	<div id="result2"></div>

		<script>
		   
		    document.addEventListener('DOMContentLoaded', function() {      // when page has loaded, more or less
															  
		    	document.querySelector('#btn').onclick = async function(){   
					var response = await fetch('cit5students.json');       // ajax GET request
		        	//console.log(response);
					if(response.ok) {
						var data = await response.json();                // array of objects
		
						var tableContents = "<table cellspacing='10'>"
						tableContents += "<tr><td>Name</td><td>Major</td><td>Midterm</td><td>Final</td></tr>";
							
		            	for(i = 0; i < data.length; i++) {
		                    tableContents += `<tr><td> ${data[i].name} </td>
								<td> ${data[i].major} </td>
								<td> ${data[i].midterm} </td>
								<td> ${data[i].final} </td></tr>`;  // generate table using template literals
		                }

					document.querySelector('#btn2').onclick = async function(){   
					var response = await fetch('cit5students.json');       // ajax GET request
		        	//console.log(response);
					if(response.ok) {
						var data = await response.json();                // array of objects
		
						var tableContents = "<table cellspacing='10'>"
						tableContents += "<tr><td>Name</td><td>Major</td><td>Midterm</td><td>Final</td></tr>";
							
		            	for(i = 0; i < data.length; i++) {
		                    tableContents += `<tr><td> ${data[i].name} </td>
								<td> ${data[i].major} </td>
								<td> ${data[i].midterm} </td>
								<td> ${data[i].final} </td></tr>`;  // generate table using template literals
		                }
							
		                tableContents += "</table>";
		
		                document.querySelector('#result').innerHTML = tableContents;
						document.querySelector('#result2').innerHTML = tableContents;
					}
					else {
						document.querySelector('#result').innerHTML = "Data not found";
						document.querySelector('#result2').innerHTML = tableContents;
					}	
		    	};
			
		  	});
		   
		</script>

   
</body>
</html>
